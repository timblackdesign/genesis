<section class="container--achievements container text-center flex flex-col items-center m-auto p-4 m:p-16">
  <h2 class="achievements__heading" >{{ section.settings.heading }}</h2>
  <p class="achievements__subtext" >{{ section.settings.subtext }}</p>

  {% assign block_size = section.blocks.size %}
  {% assign block_columns_class = 'w-1/2' %}
  {% assign modulo_3col = block_size | modulo:3 %}
  {% if modulo_3col == 0 %}
    {% assign block_columns_class = 'w-1/3' %}
  {% endif%}
  

  <div class="achievements flex flex-col md:flex-row items-stretch mt-16 w-full">
    {% for block in section.blocks %}
      {% assign achievement_title = block.settings.title %}

      <div class="
      {% if modulo_3col == 0 %}
        {% cycle '', 'md:border-l border-t md:border-t-0 pt-8 mt-8 md:pt-0 md:mt-0', 'md:border-l border-t md:border-t-0 pt-8 mt-8 md:pt-0 md:mt-0' %}
      {% else %}
        {% cycle '', 'md:border-l border-t md:border-t-0 pt-8 mt-8 md:pt-0 md:mt-0' %}
      {% endif %}
      achievement 
      flex 
      flex-col 
      md:flex-row 
      w-100 md:{{ block_columns_class }} 
      mb-4 
      md:mb-0 
      w-full 
      ">
        <div class="px-10 flex flex-col items-center w-full justify-start">
          <div class="achievement__logo-box h-32 w-48  bg-contain bg-no-repeat bg-center mb-10" style="background-image: url({{ block.settings.logo | img_url: '600x' }});" >
          </div>
          
          <div class="w-full" >
            <h3 class="achievement__title mb-6 text-2xl md:text-2xl font-semibold">{{ block.settings.title }}</h3>
            <p class="achievement__content text-center w-full" >
              {{ block.settings.content }}
            </p>      
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
  
</section>

{% schema %}
{
  "name": "Achievements",
  "class": "achievements-section",
  "max_blocks":  3,
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Main Heading",
      "default": "Genesis Achievements"
    },
    {
      "type": "text",
      "id": "subtext",
      "label": "Subtext",
      "default": "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam."
    }
  ],
  "blocks": [
    {
      "type": "achievement",
      "name": "Achievement",
      "settings": [
        {
          "id": "logo",
          "type": "image_picker",
          "label": "Logo"
        },
        {
          "id": "title",
          "type": "text",
          "label": "Achievement"
        },
        {
          "id": "content",
          "type": "textarea",
          "label": "Content"
        }
      ]
    }
  ]
}
{% endschema %}