<section class="wholesale--container page-container container text-center flex flex-col items-center m-auto p-4 m:p-16">
  <h2 class="text-3xl mb-8" >{{ section.settings.heading }}</h2>
  <p class="" >{{ section.settings.subtext }}</p>

  <div class="discounts flex flex-col md:flex-row items-center mt-16 w-full">
    {% for block in section.blocks %}
      <div class="discount flex flex-col md:flex-row w-100 md:w-1/3 mb-4 md:mb-0 w-full sm:p-3">
        <div class="py-12 px-10 flex flex-col items-center border w-full">
          <div class="discount__badge flex flex-col items-center justify-center text-white p-5 rounded-full">
            <span class="text-sm uppercase font-medium">Up To</span>
            <span class="flex items-center justify-center" ><span class="discount__badge-percentage-val text-5xl tracking-tight font-semibold">{{ block.settings.discount_percentage }}</span><span class="discount__badge-percentage-label text-2xl font-semibold">%</span></span>
          </div>
          <div class="w-full" >
            <h3 class="mb-8 text-3xl md:text-4xl font-bold">Discount</h3>
            <ul class="text-left list-reset text-center w-full" >
              <li class="border-b pb-4 mb-4" >Spend over {{ block.settings.spend_over }}+</li>
              <li class="border-b pb-4 mb-4" >Free National Shipping</li>
              <li class="pb-4" >VIP Customer Support</li>
            </ul>
            
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
  
  <div class="wholesale-contact">
    <hr>
    <h2>{{ section.settings.contact_heading }}</h2>
    <p class="leading-normal" >{{ section.settings.contact_text }}</p>


    {% form 'contact' %}

      {% if page.content != blank %}
        <div class="page-content rte">
          {{ page.content }}
        </div>
      {% endif %}

      <div class="contact-page-content">
        {% assign has_message = false %}

        {% if form.errors != blank %}
          {% assign has_message = true %}
          {% assign message_type = 'error' %}
        {% endif %}

        {% if form.posted_successfully? %}
          {% assign has_message = true %}
          {% assign message_type = 'success' %}
        {% endif %}

        {% if has_message %}
          <div class="contact-message message--{{ message_type }}">
            {% case message_type %}
              {% when 'success' %}
                <p>
                  {{ 'contact.form.post_success' | t }}
                </p>
              {% when 'error' %}
                {{ form.errors | default_errors }}
            {% endcase %}
          </div>
        {% endif %}

        <div class="form-fields-columns">
          <div class="form-field form-field--half">
            {% assign value = '' %}
            {%- if form.name -%}
              {% assign value = form.name %}
            {%- elsif customer -%}
              {% assign value = customer.name %}
            {%- endif -%}

            <input
              class="form-field-input form-field-text {% if form.errors contains 'name' %}form-field-error{% endif %}"
              id="contact_name"
              name="contact[name]"
              type="text"
              value="{{ value }}">

            <label class="form-field-title" for="contact_name">
              {{ 'contact.form.name' | t }}
            </label>
          </div>

          <div class="form-field form-field--half">
            {% assign value = '' %}
            {%- if form.abn_nzbn -%}
              {% assign value = form.abn_nzbn %}
            {%- elsif customer -%}
              {% assign value = customer.abn_nzbn %}
            {%- endif -%}

            <input
              class="form-field-input form-field-text {% if form.errors contains 'abn_nzbn' %}form-field-error{% endif %}"
              id="contact_abn_nzbn"
              name="contact[abn_nzbn]"
              type="text"
              value="{{ value }}">

            <label class="form-field-title" for="contact_abn_nzbn">
              ABN/NZBN*
            </label>
          </div>

          <div class="form-field form-field--half">
            {% assign value = '' %}
            {%- if form.email -%}
              {% assign value = form.email %}
            {%- elsif customer -%}
              {% assign value = customer.email %}
            {%- endif -%}
            <input
              class="form-field-input form-field-text {% if form.errors contains 'email' %}form-field-error{% endif %}"
              id="contact_email"
              name="contact[email]"
              type="text"
              value="{{ value }}"
              autocorrect="off"
              autocapitalize="off">

            <label class="form-field-title" for="contact_email">
              {{ 'contact.form.email' | t }}
            </label>
          </div>
        

          <div class="form-field form-field--half">
            {% assign value = '' %}
            {%- if form.phone -%}
              {% assign value = form.phone %}
            {%- elsif customer -%}
              {% assign value = customer.phone %}
            {%- endif -%}

            <input
              class="form-field-input form-field-text {% if form.errors contains 'phone' %}form-field-error{% endif %}"
              id="contact_phone"
              name="contact[phone]"
              type="tel"
              value="{{ value }}">

            <label class="form-field-title" for="contact_phone">
              {{ 'contact.form.phone' | t }}
            </label>
          </div>
        </div>
        
        <h3 class="text-center text-2xl my-12" >Business Details</h3>

        <div class="form-fields-columns">
          <div class="form-field form-field--half">
            <div class="form-field-select-wrapper">
              <select class="form-field-input form-field-select form-field-filled {% if form.errors contains 'business_type' %}form-field-error{% endif %}" id="ContactFormBusinessType" name="contact[business_type]">
                <option>Type I</option>
                <option>Type 2</option>
                <option>Type 3</option>
              </select>
              <label class="form-field-title" for="ContactFormBusinessType">Business Type</label>
              <svg aria-hidden="true" focusable="false" role="presentation" xmlns="http://www.w3.org/2000/svg" width="8" height="6" viewBox="0 0 8 6">
                <g fill="currentColor" fill-rule="evenodd">
                  <polygon class="icon-chevron-down-left" points="4 5.371 7.668 1.606 6.665 .629 4 3.365"></polygon>
                  <polygon class="icon-chevron-down-right" points="4 3.365 1.335 .629 1.335 .629 .332 1.606 4 5.371"></polygon>
                </g>
              </svg>
            </div>
          </div>
          <div class="form-field form-field--half">
            <div class="form-field-select-wrapper">
              <select class="form-field-input form-field-select form-field-filled {% if form.errors contains 'annual_turnover' %}form-field-error{% endif %}" id="ContactFormBusinessType" name="contact[annual_turnover]">
                <option>$10k</option>
                <option>$100k</option>
                <option>$1M</option>
              </select>
              <label class="form-field-title" for="ContactFormBusinessType">Annual Turnover</label>
              <svg aria-hidden="true" focusable="false" role="presentation" xmlns="http://www.w3.org/2000/svg" width="8" height="6" viewBox="0 0 8 6">
                <g fill="currentColor" fill-rule="evenodd">
                  <polygon class="icon-chevron-down-left" points="4 5.371 7.668 1.606 6.665 .629 4 3.365"></polygon>
                  <polygon class="icon-chevron-down-right" points="4 3.365 1.335 .629 1.335 .629 .332 1.606 4 5.371"></polygon>
                </g>
              </svg>
            </div>
          </div>
          <div class="form-field form-field--half form-field--three-quarters">
            {% assign value = '' %}
            {%- if form.business_address -%}
              {% assign value = form.business_address %}
            {%- elsif customer -%}
              {% assign value = customer.pbusiness_address %}
            {%- endif -%}

            <input
              class="form-field-input form-field-text {% if form.errors contains 'business_address' %}form-field-error{% endif %}"
              id="contact_business_address"
              name="contact[business_address]"
              type="text"
              value="{{ value }}">

            <label class="form-field-title" for="contact_business_address">
              Business Address
            </label>
          </div>
          <div class="form-field form-field--half form-field--one-quarter">
            {% assign value = '' %}
            {%- if form.postcode -%}
              {% assign value = form.postcode %}
            {%- elsif customer -%}
              {% assign value = customer.postcode %}
            {%- endif -%}

            <input
              class="form-field-input form-field-text {% if form.errors contains 'postcode' %}form-field-error{% endif %}"
              id="contact_postcode"
              name="contact[postcode]"
              type="text"
              value="{{ value }}">

            <label class="form-field-title" for="contact_postcode">
              Postcode
            </label>
          </div>
        </div>
        
        <h3 class="text-center text-2xl my-12" >More Information</h3>

        <div class="form-field">
          {% assign value = '' %}
          {%- if form.body -%}
            {% assign value = form.body %}
          {%- endif -%}
          <textarea
            class="form-field-input form-field-textarea {% if form.errors contains 'body' %}form-field-error{% endif %}"
            id="contact_message"
            name="contact[message]">{{ value }}</textarea>

          <label class="form-field-title" for="contact_body">
            {{ 'contact.form.message' | t }}
          </label>
        </div>

        <div class="form-action-row">
          <button class="button-primary contact-form-button" type="submit">
            Submit Application
          </button>
        </div>
      </div>
    {% endform %}
  </div>
</section>

{% schema %}
{
  "name": "Content",
  "class": "wholesale-content-section",
  "max_blocks":  3,
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Main Heading",
      "default": "Bulk Buy Discounts"
    },
    {
      "type": "text",
      "id": "subtext",
      "label": "Subtext",
      "default": "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam."
    },
    {
      "type": "text",
      "id": "contact_heading",
      "label": "Contact Heading",
      "default": "Wholesale Accounts"
    },
    {
      "type": "text",
      "id": "contact_text",
      "label": "Contact Text",
      "default": "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam."
    }
  ],
  "blocks": [
    {
      "type": "discount",
      "name": "Discount",
      "settings": [
        {
          "id": "discount_percentage",
          "type": "text",
          "label": "Discount"
        },
        {
          "id": "spend_over",
          "type": "text",
          "label": "Spend Over"
        }
      ]
    }
  ]
}
{% endschema %}